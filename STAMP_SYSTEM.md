# ๐ฏ ูุธุงู ุงูุฃุฎุชุงู ูุงูุนูุงูุงุช ุงููุงุฆูุฉ ููููุงุชูุฑ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุฅุถุงูุฉ ุฃุฎุชุงู ูุนูุงูุงุช ูุงุฆูุฉ ููููุงุชูุฑ ุญุณุจ ููุน ุงููุณุชูุฏ ูุน ุงูุญูุงุธ ุนูู ุงูุชุตููู ุงูุฃุณุงุณู 100%.

## ๐จ ุฃููุงุน ุงูุฃุฎุชุงู

### ๐ด STORNO (ุฅูุบุงุก ุงูุทูุจูุฉ)
- **ุฎุชู ูุณุชุทูู ุฃุญูุฑ:** 40mm ร 20mm ูู ุงูููุถุน (85, 130)
- **ุฎูููุฉ ุญูุฑุงุก:** RGB(220, 38, 38)
- **ูุต ุฃุจูุถ ุนุฑูุถ:** "STORNO" ุจุญุฌู 14px
- **ุฅุทุงุฑ ุฃุจูุถ:** ุณูู 1px
- **ุนูุงูุฉ ูุงุฆูุฉ ูุงุฆูุฉ:** "STORNO" ุฑูุงุฏู ูุงุชุญ ุจุฒุงููุฉ -45ยฐ

### ๐ต ERSTATTUNG (ุงุณุชุฑุฏุงุฏ ุงููุงู)
- **ุฎุชู ูุณุชุทูู ุฃุฒุฑู:** 60mm ร 20mm ูู ุงูููุถุน (75, 130)
- **ุฎูููุฉ ุฒุฑูุงุก:** RGB(37, 99, 235)
- **ูุต ุฃุจูุถ ุนุฑูุถ:** "ERSTATTUNG" ุจุญุฌู 12px
- **ุฅุทุงุฑ ุฃุจูุถ:** ุณูู 1px
- **ุนูุงูุฉ ูุงุฆูุฉ ูุงุฆูุฉ:** "ERSTATTUNG" ุฃุฒุฑู ูุงุชุญ ุจุฒุงููุฉ -45ยฐ

## ๐ง ุงูุจููุฉ ุงูุชูููุฉ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ
```
/lib/arizona-pdf-generator.ts    # ูููุฏ PDF ุงูุฑุฆูุณู
/app/api/test-invoice-types/     # API ููุงุฎุชุจุงุฑ
/app/test-types/                 # ูุงุฌูุฉ ุงูุงุฎุชุจุงุฑ
```

### ุงูุฏูุงู ุงูุฃุณุงุณูุฉ

#### `addRectangularStamp()`
```typescript
function addRectangularStamp(
  doc: jsPDF, 
  text: string, 
  x: number, 
  y: number, 
  width: number, 
  height: number,
  backgroundColor: [number, number, number],
  fontSize: number = 14
)
```

#### `addDiagonalText()`
```typescript
function addDiagonalText(
  doc: jsPDF, 
  text: string, 
  color: [number, number, number],
  fontSize: number = 80
)
```

#### `addDocumentStamps()`
```typescript
function addDocumentStamps(doc: jsPDF, documentKind?: DocumentKind)
```

## ๐ฏ ููููุฉ ุงูุนูู

### 1. ุชุญุฏูุฏ ููุน ุงููุณุชูุฏ
```typescript
if (documentKind === DocumentKind.CANCELLATION) {
  // ุฅุถุงูุฉ ุฎุชู STORNO
} else if (documentKind === DocumentKind.CREDIT_NOTE) {
  // ุฅุถุงูุฉ ุฎุชู ERSTATTUNG
}
```

### 2. ุฅุถุงูุฉ ุงูุฃุฎุชุงู
- **ุงูุฎุชู ุงููุณุชุทูู:** ูุธูุฑ ูู ููุถุน ุซุงุจุช ุนูู ุงูุตูุญุฉ
- **ุงูุนูุงูุฉ ุงููุงุฆูุฉ:** ุชุบุทู ูุณุท ุงูุตูุญุฉ ุจุดูู ูุงุฆู

### 3. ุชุทุจูู ุนูู ุฌููุน ุงูุตูุญุงุช
```typescript
const totalPages = doc.getNumberOfPages()
for (let pageNum = 1; pageNum <= totalPages; pageNum++) {
  doc.setPage(pageNum)
  addDocumentStamps(doc, invoice.document_kind)
}
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### API Endpoints
```
GET /api/test-invoice-types?type=normal     # ูุงุชูุฑุฉ ุนุงุฏูุฉ
GET /api/test-invoice-types?type=storno     # ุฎุชู STORNO
GET /api/test-invoice-types?type=gutschrift # ุฎุชู ERSTATTUNG
```

### ูุงุฌูุฉ ุงูุงุฎุชุจุงุฑ
```
http://localhost:3000/test-types
```

## ๐ ุงูููุงุตูุงุช ุงูุชูููุฉ

### ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ
- **ุฃุญูุฑ STORNO:** RGB(220, 38, 38)
- **ุฃุฒุฑู ERSTATTUNG:** RGB(37, 99, 235)
- **ุฑูุงุฏู ูุงุชุญ (ุนูุงูุฉ ูุงุฆูุฉ):** RGB(200, 200, 200)
- **ุฃุฒุฑู ูุงุชุญ (ุนูุงูุฉ ูุงุฆูุฉ):** RGB(180, 200, 230)

### ุงูููุงุถุน ูุงูุฃุญุฌุงู
- **ูุณุท ุตูุญุฉ A4:** X=105mm, Y=148mm
- **ุฒุงููุฉ ุงูุนูุงูุฉ ุงููุงุฆูุฉ:** -45 ุฏุฑุฌุฉ
- **ุญุฌู ุงูุฎุท ููุฃุฎุชุงู:** 12-14px
- **ุญุฌู ุงูุฎุท ููุนูุงูุงุช ุงููุงุฆูุฉ:** 70-80px

## โ ุงูููุฒุงุช

### ุชุตููู ูุญุงูุธ
- โ ููุณ ุงูููุฌู ูุงูุฃููุงู ูุงูุฎุทูุท
- โ ููุณ ุชุฎุทูุท ุงูุฌุฏุงูู ูุงูุนูุงุตุฑ
- โ ููุณ ุงูููุงูุด ูุงููุณุงูุงุช
- โ ููุณ ูุนูููุงุช ุงูุดุฑูุฉ ูุงูุชุฐููู

### ุฃุฎุชุงู ุงุญุชุฑุงููุฉ
- โ ุฃุฎุชุงู ูุณุชุทููุฉ ูุงุถุญุฉ ูุน ุฅุทุงุฑ
- โ ุนูุงูุงุช ูุงุฆูุฉ ูุงุฆูุฉ ูู ุงูุฎูููุฉ
- โ ุฃููุงู ููุงุณุจุฉ ููู ููุน ูุณุชูุฏ
- โ ูุธูุฑ ุนูู ุฌููุน ุงูุตูุญุงุช ุชููุงุฆูุงู

### ุณูููุฉ ุงูุงุณุชุฎุฏุงู
- โ ุชุทุจูู ุชููุงุฆู ุญุณุจ ููุน ุงููุณุชูุฏ
- โ ูุง ูุญุชุงุฌ ุชุฏุฎู ูู ุงููุณุชุฎุฏู
- โ ูุนูู ูุน ุงููุธุงู ุงูุญุงูู ุจุณูุงุณุฉ
- โ ูุงุฌูุฉ ุงุฎุชุจุงุฑ ุณููุฉ ููุฑุฆูุฉ

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุฅุถุงูุงุช ูุญุชููุฉ
- [ ] ุฃุฎุชุงู ูุฃููุงุน ูุณุชูุฏุงุช ุฃุฎุฑู (ุชุฐููุฑุ ุฅููุงูุ ุฅูุฎ)
- [ ] ุชุฎุตูุต ุฃููุงู ุงูุฃุฎุชุงู ูู ุงูุฅุนุฏุงุฏุงุช
- [ ] ุชุฎุตูุต ููุงุถุน ุงูุฃุฎุชุงู
- [ ] ุฃุฎุชุงู ูุฎุตุตุฉ ุจุดุนุงุฑ ุงูุดุฑูุฉ

### ุชุญุณููุงุช ุชูููุฉ
- [ ] ุถุบุท ุฃูุถู ููุนูุงูุงุช ุงููุงุฆูุฉ
- [ ] ุฏุนู ุฎุทูุท ูุฎุตุตุฉ ููุฃุฎุชุงู
- [ ] ุชุญุณูู ุงูุฃุฏุงุก ูููููุงุช ุงููุจูุฑุฉ
- [ ] ุฏุนู ุฃุฎุชุงู ูุชุนุฏุฏุฉ ุงููุบุงุช

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุญูุงุธ ุนูู ุงูุชุตููู:** ุงููุธุงู ูุง ูุบูุฑ ุฃู ุดูุก ูู ุงูุชุตููู ุงูุฃุณุงุณู
2. **ุงูุฃุฏุงุก:** ุงูุฃุฎุชุงู ุชูุถุงู ุจุนุฏ ุฑุณู ุงููุญุชูู ูุถูุงู ุงูุธููุฑ ูููู
3. **ุงูุชูุงูู:** ูุนูู ูุน ุฌููุน ุฃููุงุน ุงูููุงุชูุฑ ุงูููุฌูุฏุฉ
4. **ุงูููุซูููุฉ:** ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ ูุน fallbacks ุขููุฉ

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ KARNEX  
**ุงูุชุงุฑูุฎ:** ุณุจุชูุจุฑ 2024  
**ุงูุฅุตุฏุงุฑ:** 1.0.0
