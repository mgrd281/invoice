# โ ุชู ุชุญุฏูุซ ุชุฑุชูุจ ุงูููุงุชูุฑ ูุฅุนุงุฏุฉ ุงูุชุญููู ุงูุชููุงุฆู

## ๐ฏ ุงููุชุทูุจุงุช ุงููุญููุฉ

### โ ุงูุชุฑุชูุจ ุงูุชูุงุฒูู ุญุณุจ ุชุงุฑูุฎ ุงูุฅูุดุงุก/ุงูุฑูุน
- ุฃุญุฏุซ ุงูููุงุชูุฑ ุชุธูุฑ ูู ุฃุนูู ุงูุฌุฏูู
- ุงูููุงุชูุฑ ุงููุฑููุนุฉ ูู CSV ุชุธูุฑ ูู ุงูุฃุนูู
- ุชุฑุชูุจ ุชูุงุฒูู ูู ุงูุฃุญุฏุซ ููุฃูุฏู

### โ ุฅุนุงุฏุฉ ุชุญููู ุงููุงุฆูุฉ ุจุนุฏ ุฑูุน CSV
- ุชุญุฏูุซ ุชููุงุฆู ููุงุฆูุฉ ุงูููุงุชูุฑ ุจุนุฏ ุฑูุน ููู CSV ูุงุฌุญ
- ูุธุงู ุฃุญุฏุงุซ ูุฎุตุต ููุชุญุฏูุซ ุงูููุฑู
- ุฒุฑ ุชุญุฏูุซ ูุฏูู ูููุณุชุฎุฏู

## ๐๏ธ ุงูุชุญุฏูุซุงุช ุงูููุทุจูุฉ

### 1. ุตูุญุฉ ุงูููุงุชูุฑ ุงูุฑุฆูุณูุฉ (`/app/invoices/page.tsx`)

#### ุฃ. ุฅุถุงูุฉ ุงูุชุฑุชูุจ ุงูุชูุงุฒูู:
```typescript
// Sort invoices by creation date/upload date in descending order (newest first)
const sortedInvoices = combinedInvoices.sort((a, b) => {
  const dateA = new Date(a.createdAt || a.date || a.uploadedAt || '1970-01-01')
  const dateB = new Date(b.createdAt || b.date || b.uploadedAt || '1970-01-01')
  return dateB.getTime() - dateA.getTime() // Descending order (newest first)
})
```

#### ุจ. ูุธุงู ุงูุฃุญุฏุงุซ ููุชุญุฏูุซ ุงูุชููุงุฆู:
```typescript
useEffect(() => {
  fetchInvoices()
  
  // Listen for invoice updates (e.g., after CSV upload)
  const handleInvoiceUpdate = () => {
    console.log('Invoice update detected, refreshing list...')
    fetchInvoices()
  }

  // Custom event listener for invoice updates
  window.addEventListener('invoicesUpdated', handleInvoiceUpdate)
  
  return () => {
    window.removeEventListener('invoicesUpdated', handleInvoiceUpdate)
  }
}, [])
```

#### ุฌ. ุฒุฑ ุงูุชุญุฏูุซ ุงููุฏูู:
```typescript
<Button
  variant="outline"
  onClick={() => {
    setLoading(true)
    fetchInvoices()
  }}
  disabled={loading}
>
  <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />
  Aktualisieren
</Button>
```

#### ุฏ. ูุคุดุฑ ุจุตุฑู ููุชุฑุชูุจ:
```typescript
<TableHead>
  <div className="flex items-center">
    Datum
    <ArrowDown className="h-4 w-4 ml-1 text-blue-600" />
    <span className="text-xs text-gray-500 ml-1">(Neueste zuerst)</span>
  </div>
</TableHead>
```

### 2. ุตูุญุฉ ุฑูุน CSV (`/app/upload/page.tsx`)

#### ุฅุทูุงู ุญุฏุซ ุงูุชุญุฏูุซ ุจุนุฏ ุงูุฑูุน ุงููุงุฌุญ:
```typescript
if (response.ok) {
  const result = await response.json()
  setUploadStatus({ type: 'success', message: result.message, errors: result.errors })
  setFile(null)
  // Reset file input
  const fileInput = document.getElementById('file-input') as HTMLInputElement
  if (fileInput) fileInput.value = ''
  
  // Trigger invoice list refresh
  console.log('CSV upload successful, triggering invoice list refresh...')
  window.dispatchEvent(new CustomEvent('invoicesUpdated'))
}
```

## ๐ ููููุฉ ุนูู ุงููุธุงู

### 1. ุงูุชุฑุชูุจ ุงูุชููุงุฆู:
```
1. ุฌูุจ ุฌููุน ุงูููุงุชูุฑ ูู API
2. ุฏูุฌ ุงูููุงุชูุฑ ุงูููููุฉ ูุน ููุงุชูุฑ API
3. ุชุฑุชูุจ ุญุณุจ: createdAt || date || uploadedAt
4. ุชุฑุชูุจ ุชูุงุฒูู (ุงูุฃุญุฏุซ ุฃููุงู)
5. ุนุฑุถ ุงููุชุงุฆุฌ ุงููุฑุชุจุฉ
```

### 2. ุงูุชุญุฏูุซ ุงูุชููุงุฆู:
```
1. ุฑูุน ููู CSV ูุงุฌุญ
2. ุฅุทูุงู ุญุฏุซ 'invoicesUpdated'
3. ุตูุญุฉ ุงูููุงุชูุฑ ุชุณุชูุน ููุญุฏุซ
4. ุฅุนุงุฏุฉ ุฌูุจ ูุชุฑุชูุจ ุงูููุงุชูุฑ
5. ุชุญุฏูุซ ุงููุงุฌูุฉ ุชููุงุฆูุงู
```

### 3. ุงูุชุญุฏูุซ ุงููุฏูู:
```
1. ุงููุณุชุฎุฏู ูููุฑ ุนูู ุฒุฑ "Aktualisieren"
2. ุชูุนูู ุญุงูุฉ ุงูุชุญููู
3. ุฅุนุงุฏุฉ ุฌูุจ ุงูููุงุชูุฑ
4. ุชุฑุชูุจ ูุนุฑุถ ุงููุชุงุฆุฌ ุงูุฌุฏูุฏุฉ
```

## ๐จ ุงูุชุญุณููุงุช ุงูุจุตุฑูุฉ

### 1. ูุคุดุฑ ุงูุชุฑุชูุจ:
- โ ุณูู ูุฃุณูู (ArrowDown) ูุดูุฑ ููุชุฑุชูุจ ุงูุชูุงุฒูู
- โ ูุต ุชูุถูุญู "(Neueste zuerst)"
- โ ููู ุฃุฒุฑู ููุชูููุฒ

### 2. ุฒุฑ ุงูุชุญุฏูุซ:
- โ ุฃููููุฉ ุฏูุงุฑุฉ ุฃุซูุงุก ุงูุชุญููู
- โ ุชุนุทูู ุงูุฒุฑ ุฃุซูุงุก ุงูุชุญููู
- โ ุชุตููู ูุชุณู ูุน ุจุงูู ุงููุงุฌูุฉ

### 3. ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:
- โ ุชุญุฏูุซ ููุฑู ุจุนุฏ ุฑูุน CSV
- โ ูุคุดุฑุงุช ุจุตุฑูุฉ ูุงุถุญุฉ
- โ ุฑุฏูุฏ ูุนู ุชูุงุนููุฉ

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ ุงูุชุฑุชูุจ:
```
1. ุงุฐูุจ ุฅูู ุตูุญุฉ "Alle Rechnungen"
2. ุชุญูู ูู ุธููุฑ ุฃุญุฏุซ ุงูููุงุชูุฑ ูู ุงูุฃุนูู
3. ูุงุญุธ ูุคุดุฑ ุงูุชุฑุชูุจ ูู ุนููุงู "Datum"
```

### 2. ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ ุงูุชููุงุฆู:
```
1. ุงูุชุญ ุตูุญุฉ "Alle Rechnungen" ูู ุชุจููุจ
2. ุงูุชุญ ุตูุญุฉ "CSV hochladen" ูู ุชุจููุจ ุขุฎุฑ
3. ุงุฑูุน ููู CSV ูุงุฌุญ
4. ุนุฏ ูุชุจููุจ ุงูููุงุชูุฑ
5. ุชุญูู ูู ุงูุชุญุฏูุซ ุงูุชููุงุฆู ูููุงุฆูุฉ
```

### 3. ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ ุงููุฏูู:
```
1. ูู ุตูุญุฉ "Alle Rechnungen"
2. ุงููุฑ ุนูู ุฒุฑ "Aktualisieren"
3. ูุงุญุธ ุงูุฃููููุฉ ุงูุฏูุงุฑุฉ ุฃุซูุงุก ุงูุชุญููู
4. ุชุญูู ูู ุฅุนุงุฏุฉ ุชุฑุชูุจ ุงููุงุฆูุฉ
```

## ๐ ุงูููุงุฆุฏ ุงููุญููุฉ

### 1. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ:
- โ **ุฃุญุฏุซ ุงููุญุชูู ุฃููุงู**: ุงูููุงุชูุฑ ุงูุฌุฏูุฏุฉ ุชุธูุฑ ููุฑุงู
- โ **ุชุญุฏูุซ ุชููุงุฆู**: ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- โ **ูุคุดุฑุงุช ุจุตุฑูุฉ**: ูุถูุญ ูู ุงูุชุฑุชูุจ ูุงูุญุงูุฉ

### 2. ููุงุกุฉ ูู ุงูุนูู:
- โ **ุชุฑุชูุจ ููุทูู**: ุงูุฃุญุฏุซ ุฃููุงู ูููุฑุงุฌุนุฉ ุงูุณุฑูุนุฉ
- โ **ุชุญุฏูุซ ููุฑู**: ุฑุคูุฉ ุงููุชุงุฆุฌ ูุจุงุดุฑุฉ ุจุนุฏ ุฑูุน CSV
- โ **ุชุญูู ูุฏูู**: ุฅููุงููุฉ ุงูุชุญุฏูุซ ุนูุฏ ุงูุญุงุฌุฉ

### 3. ููุซูููุฉ ุงููุธุงู:
- โ **ุชุฒุงูู ุงูุจูุงูุงุช**: ุงููุงุฆูุฉ ูุญุฏุซุฉ ุฏุงุฆูุงู
- โ **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุงุณุชูุฑุงุฑูุฉ ุงูุนูู ุญุชู ูุน ุงูุฃุฎุทุงุก
- โ **ุฃุฏุงุก ูุญุณู**: ุชุญุฏูุซ ุฐูู ุจุฏูุงู ูู ุฅุนุงุฏุฉ ุงูุชุญููู ุงููุงูู

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ **ุชู ุชุญุฏูุซ ุตูุญุฉ "Alle Rechnungen" ุจูุฌุงุญ!**

**ุงูููุฒุงุช ุงูููุทุจูุฉ:**
- ๐ **ุชุฑุชูุจ ุชูุงุฒูู**: ุฃุญุฏุซ ุงูููุงุชูุฑ ูู ุงูุฃุนูู
- ๐ **ุชุญุฏูุซ ุชููุงุฆู**: ุจุนุฏ ุฑูุน CSV ูุจุงุดุฑุฉ
- ๐ **ุชุญุฏูุซ ูุฏูู**: ุฒุฑ "Aktualisieren" ูุน ูุคุดุฑ ุฏูุงุฑ
- ๐ **ูุคุดุฑ ุจุตุฑู**: ุณูู ูุชูุถูุญ ููุชุฑุชูุจ
- ๐จ **ุชุตููู ูุญุณู**: ูุงุฌูุฉ ูุงุถุญุฉ ููุชุฌุงูุจุฉ

**ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:**
1. ุฑูุน ููู CSV โ ุชุญุฏูุซ ููุฑู ูููุงุฆูุฉ
2. ุฃุญุฏุซ ุงูููุงุชูุฑ ุชุธูุฑ ูู ุงูุฃุนูู
3. ุชุฑุชูุจ ูุงุถุญ ูููุทูู
4. ุฅููุงููุฉ ุงูุชุญุฏูุซ ุงููุฏูู ุนูุฏ ุงูุญุงุฌุฉ

**ุงูุขู ุตูุญุฉ ุงูููุงุชูุฑ ุชุนุฑุถ ุฃุญุฏุซ ุงููุญุชูู ุฃููุงู ูุน ุชุญุฏูุซ ุชููุงุฆู!** ๐
